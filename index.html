<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Express</title>
    <style>
        body { font-family: sans-serif; background-color: #0f172a; color: #f8fafc; margin: 0; padding: 20px; }
        header { text-align: center; padding: 40px; border-bottom: 2px solid #38bdf8; }
        .news-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .card { background: #1e293b; padding: 20px; border-radius: 8px; border: 1px solid #334155; }
        h3 { color: #38bdf8; font-size: 1.1rem; }
        .btn { color: #fff; text-decoration: none; font-weight: bold; font-size: 0.8rem; }
    </style>
</head>
<body>
    <header>
        <h1>CRYPTO PANIC NEWS</h1>
        <p id="status">A carregar notícias...</p>
    </header>
    <div class="news-grid" id="news-grid"></div>

    <script>
        const apiKey = 'dabdb2f661367ed64a493d919c04547e7f5094ab';
        
        async function buscarNoticias() {
            const grid = document.getElementById('news-grid');
            const status = document.getElementById('status');
            
            // Usando um proxy diferente para evitar o erro de "Unexpected token <"
            const url = `https://api.allorigins.win/get?url=${encodeURIComponent('https://cryptopanic.com/api/v1/posts/?auth_token=' + apiKey + '&kind=news')}`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                const posts = JSON.parse(data.contents).results;

                status.innerText = "Mercado Atualizado!";
                grid.innerHTML = posts.slice(0, 12).map(post => `
                    <div class="card">
                        <h3>${post.title}</h3>
                        <p>Fonte: ${post.domain}</p>
                        <a href="${post.url}" target="_blank" class="btn">LER MAIS →</a>
                    </div>
                `).join('');
            } catch (err) {
                status.innerText = "Erro ao carregar notícias. Tente novamente.";
                console.error(err);
            }
        }
        buscarNoticias();
    </script>
</body>
</html>
